<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>搜尋結果</title>
    <link rel="stylesheet" href="jason.CSS">
    <script>
        function getQueryParams() {
            var params = {};
            window.location.search.substring(1).split("&").forEach(function(pair) {
                var keyValue = pair.split("=");
                params[keyValue[0]] = decodeURIComponent(keyValue[1]);
            });
            return params;
        }

        window.onload = function() {
            var params = getQueryParams();
            console.log("Query Params: ", params);
            document.getElementById("resultCourseName").innerText = params.courseName || "未指定";
            document.getElementById("resultUniversity").innerText = params.university || "未指定";
            document.getElementById("resultField").innerText = params.field || "未指定";
            document.getElementById("resultFormat").innerText = params.format || "未指定";

            var csvText = `課程名稱,英文名稱,開課學校,授課教授,課程領域,上課方式,超連結
國家與市場,States and Markets,銘傳大學,楊穎超,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/345?f_que_year_s_num=7
基本人權專題,Seminar on Constitutional Rights,國立臺灣海洋大學,高樹人,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/346?f_que_year_s_num=7
氣候變遷與土地使用,Climate Change and Land Use,東海大學,賴炳樹,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/347?f_que_year_s_num=7
生命科學：人體的奧秘,Life Sciences：The Subtlety OF Human Body,淡江大學,陳銘凱,自然科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/348?f_que_year_s_num=7
西洋歌劇欣賞入門,The Appreciation of the Western Opera,淡江大學,林鄉雨,人文藝術,實體授課,https://www.n2.org.tw/enter/lesson/detail/349?f_que_year_s_num=7
生活中的數學,Life through Mathematical eyes,國立高雄大學,張雲清,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/350?f_que_year_s_num=7
臺灣布袋戲之認識與欣賞,The Understanding and Appreciation of Taiwanese Glove Puppetry,中原大學,葉嘉中,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/351?f_que_year_s_num=7
在地社區探究與設計思考,Exploring Local Communities and Design Thinking,中原大學,沈豪挺,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/352?f_que_year_s_num=7
東南亞區域：歷史遺緒、當前動態與未來展望,"Southeast Asia Region: Historical Legacies, Current Dynamics, and Future Prospects",中原大學,謝尚伯,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/353?f_que_year_s_num=7
音樂與戲劇,"Southeast Asia Region: Historical Legacies, Current Dynamics, and Future Prospects",國立臺灣師範大學,王望舒,人文藝術,實體授課,https://www.n2.org.tw/enter/lesson/detail/354?f_que_year_s_num=7
舞蹈鑑賞,Dance Appreciation,國立臺灣師範大學,王宏豪,人文藝術,實體授課,https://www.n2.org.tw/enter/lesson/detail/355?f_que_year_s_num=7
物理學與創意思考,Physics and Creative Thinking,中國文化大學,鄒忠毅,自然科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/356?f_que_year_s_num=7
中華文明史：日常生活與社會觀察,History of Chinese Civilization：Daily Life and Social Observation,中國文化大學,連啟元,人文藝術,實體授課,https://www.n2.org.tw/enter/lesson/detail/357?f_que_year_s_num=7
幸福心理學,Psychology of Well-Being,中國文化大學,高旭繁、陳柏霖,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/358?f_que_year_s_num=7
商業簡報邏輯思維與溝通表達,Logical thinking and communication in business presentations,逢甲大學,湛明暉,人文藝術,實體授課,https://www.n2.org.tw/enter/lesson/detail/359?f_que_year_s_num=7
環境教育,Environmental Education,逢甲大學,葉怡巖,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/360?f_que_year_s_num=7
從韓流文化看韓國社會,From Korean Pop Culture to Explore Korean Society,國立臺灣科技大學,黃身安,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/361?f_que_year_s_num=7
希臘羅馬神話,Greek and Roman Mythology,國立臺北商業大學,簡士捷,人文藝術,實體授課,https://www.n2.org.tw/enter/lesson/detail/362?f_que_year_s_num=7
國際體驗學習,International Youth Travel and Experiential Learning,國立臺北商業大學,林怡安、賴明政,人文藝術,實體授課,https://www.n2.org.tw/enter/lesson/detail/363?f_que_year_s_num=7
多元文化與社會正義,Multicultural and Social Justice,國立臺北大學,王冠生,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/364?f_que_year_s_num=7
青銅藝術鑑賞與先秦文化,Bronze Age Art History and Early Chinese Culture,臺北市立大學,蔡瑩瑩,人文藝術,實體授課,https://www.n2.org.tw/enter/lesson/detail/375?f_que_year_s_num=7
資治通鑑與現代競爭力,Comprehensive Mirror for Aid in Government and Modern Competitiveness,臺北市立大學,林偉仁,人文藝術,實體授課,https://www.n2.org.tw/enter/lesson/detail/376?f_que_year_s_num=7
迎向幸福的消化之旅,A Digestive Journey Toward Well-being,臺北市立大學,陳昺菎,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/377?f_que_year_s_num=7
心靈樂活電影院,Cinema of mental health,臺北醫學大學,韓德彥,人文藝術,實體授課,https://www.n2.org.tw/enter/lesson/detail/378?f_que_year_s_num=7
初級程式設計-Python,Fundamental Computer Programming-Python,國立東華大學,陳文盛,邏輯運算,線上授課,https://www.n2.org.tw/enter/lesson/detail/379?f_que_year_s_num=7
永續發展與國際貿易,Sustainability Development and International Trade,國立政治大學,楊培侃,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/380?f_que_year_s_num=7
環境研究一：人、環境與自然,"Environment Study One: Human, Environment & Nature",國立臺北藝術大學,陳俊欽,自然科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/381?f_que_year_s_num=381?f_que_year_s_num=7
表演與自我開發,Acting and self-development,國立中正大學,周力德,人文藝術,實體授課,https://www.n2.org.tw/enter/lesson/detail/382?f_que_year_s_num=7
電腦遊戲設計導論,Introduction to computer game programming,國立中正大學,張漢呈,邏輯運算,實體授課,https://www.n2.org.tw/enter/lesson/detail/383?f_que_year_s_num=7
文化資產保存與法規,Cultural Property and Regulations,國立中正大學,蘇全正,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/384?f_que_year_s_num=7
作業研究：模型與演算法,Operations Research: Models and Algorithms,國立臺灣大學,孔令傑,邏輯運算,線上授課,https://www.n2.org.tw/enter/lesson/detail/395?f_que_year_s_num=7
用 Python 做商管程式設計,Programming for Business Computing in Python,國立臺灣大學,孔令傑,邏輯運算,線上授課,https://www.n2.org.tw/enter/lesson/detail/396?f_que_year_s_num=7
東亞儒家：人文精神,East Asian Confucianisms：Humanism,國立臺灣大學,黃俊傑,社會科學,線上授課,https://www.n2.org.tw/enter/lesson/detail/397?f_que_year_s_num=7
深叩孔孟,An Inquiry into Confucius and Mencius,國立臺灣大學,黃俊傑,社會科學,線上授課,https://www.n2.org.tw/enter/lesson/detail/398?f_que_year_s_num=7
活用希臘哲學,Understanding the Greek Philosophy,國立臺灣大學,苑舉正,社會科學,線上授課,https://www.n2.org.tw/enter/lesson/detail/399?f_que_year_s_num=7
毒道之處：食品安全,The Way of Toxicity: Food Safety,國立臺灣大學,姜至剛,自然科學,線上授課,https://www.n2.org.tw/enter/lesson/detail/400?f_que_year_s_num=7
微積分一,Calculus (I),國立清華大學,顏東勇,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/255
微積分甲(一),Calculus A (I),國立陽明交通大學,余啟哲,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/253
微積分一,Calculus,大同大學,張薰文,專業課程,實體授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/263
普通物理一,General Physics（I）,國立清華大學,林秀豪,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/256
普通物理(一),General Physics,大同大學,吳瑞卿,專業課程,實體授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/265
普通化學一,General Chemistry（I）,國立清華大學,楊家銘,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/257
普通化學課程,Chemistry(I),國立陽明交通大學,李大偉,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/251
生命科學一,Life Science I,國立清華大學,李家維、莊永仁、焦傳金、黃貞祥,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/259
生物學,General Biology,國立陽明交通大學,陳儀聰、陳俊銘、李曉暉、羅清維,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/252
程式設計導論,Introduction to Computer Programming,國立清華大學,陳煥宗,邏輯運算,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/260
Python語言程式入門,Introduction to Computer Engineering,國立清華大學,周百祥,邏輯運算,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/262
資料科學程式設計,Programming for Data Science,國立成功大學,李坤洲,邏輯運算,實體授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/273
初級程式設計-Python,Fundamental Computer Programming-Python,國立東華大學,陳文盛,邏輯運算,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/261
經濟學原理,Principles of Economics,國立清華大學,余朝恩,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/266
經濟學,,國立中央大學,王銘正,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/250
會計學(一),Accounting(I),國立陽明交通大學,蔡璧徽,專業課程,實體授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/248
英文(上),English (1),國立暨南國際大學,黃筱淳,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/254
英文(一),English,大同大學,高萍穗,專業課程,實體授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/264
日文（一）,,國立中央大學,余秋菊,專業課程,實體授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/271
日語(一),Japanese(I),國立東華大學,蔡和諧,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/258
日語(一),JAPANESE,大同大學,張嘉真,專業課程,實體授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/268
資訊工程導論,Introduction to Computer Engineering,國立清華大學,陳煥宗、楊舜仁、李哲榮,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/267
心理學,Psychology,國立清華大學,詹雨臻,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/269
國文（B）：中文寫作,,國立中央大學,莊斐喬,專業課程,線上授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/272
藝術鑑賞(音樂),Art Appreciation: Music,國立臺北藝術大學,車炎江,人文藝術,實體授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/274
藝術鑑賞(新媒體藝術),Art Appreciation (New Media Art),國立臺北藝術大學,黃裕雄,人文藝術,實體授課,https://cis.ncu.edu.tw/ApcourseSys/search/searchCrs/275
幸福心理學,Psychology of Well-Being,國立臺北教育大學,高旭繁、陳柏霖,社會科學,實體授課,https://www.n2.org.tw/enter/lesson/detail/358?f_que_year_s_num=7
`; 

            var courses = csvToJSON(csvText);
            console.log("Loaded Courses: ", courses);
            var filteredCourses = filterCourses(courses, params.courseName, params.university, params.field, params.format);
            console.log("Filtered Courses: ", filteredCourses);
            displayCourses(filteredCourses);
        };

        function csvToJSON(csvText) {
            var lines = csvText.split('\n');
            var result = [];
            var headers = lines[0].split(',');

            for (var i = 1; i < lines.length; i++) {
                var obj = {};
                var currentline = lines[i].split(',');

                if (currentline.length === headers.length) {
                    for (var j = 0; j < headers.length; j++) {
                        obj[headers[j].trim()] = currentline[j].trim();
                    }
                    result.push(obj);
                }
            }
            console.log("CSV to JSON Result: ", result);
            return result;
        }

        function filterCourses(courses, courseName, university, field, format) {
            console.log("Filtering Courses with: ", courseName, university, field, format);
            return courses.filter(function(course) {
                return (!courseName || course['課程名稱'].includes(courseName)) &&
                       (!university || university === "選擇學校" || course['開課學校'] === university) &&
                       (!field || field === "選擇領域" || course['課程領域'] === field) &&
                       (!format || format === "選擇形式" || course['上課方式'] === format);
            });
        }

        function displayCourses(courses) {
            var resultsContainer = document.getElementById("resultsContainer");
            resultsContainer.innerHTML = "";

            if (courses.length === 0) {
                resultsContainer.innerText = "沒有找到符合條件的課程。";
                return;
            }

            courses.forEach(function(course) {
                var courseElement = document.createElement("div");
                courseElement.classList.add("course");

                var courseContent = `
                    <p>課程名稱: ${course['課程名稱']}</p>
                    <p>英文名稱: ${course['英文名稱']}</p>
                    <p>開課學校: ${course['開課學校']}</p>
                    <p>授課教授: ${course['授課教授']}</p>
                    <p>課程領域: ${course['課程領域']}</p>
                    <p>上課方式: ${course['上課方式']}</p>
                `;
                courseElement.innerHTML = courseContent;

                var courseLink = document.createElement("a");
                courseLink.href = course['超連結'];
                courseLink.innerText = "課程詳情";
                courseElement.appendChild(courseLink);

                resultsContainer.appendChild(courseElement);
            });
        }

        function goBack() {
            sessionStorage.clear(); // 清除 sessionStorage 中的數據
            window.location.href = "jason.HTML"; // 返回上一頁
        }
    </script>
    <style>
        .course {
            border: 1px solid #000;
            padding: 10px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img src="book.jpg" alt="Summer School Logo">
            <h1>SUMMER SCHOOL</h1>
        </div>
        <nav>
            <ul>
                <li><a href="#courses">Courses</a></li>
                <li><a href="#about">About Us</a></li>
                <li><a href="#profile"><img src="sign_in.png" alt="sign_in"></a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="results">
            <h2>搜尋結果</h2>
            <p>課程名稱: <span id="resultCourseName"></span></p>
            <p>開課學校: <span id="resultUniversity"></span></p>
            <p>課程領域: <span id="resultField"></span></p>
            <p>授課形式: <span id="resultFormat"></span></p>
            <div id="resultsContainer"></div>
        </section>
        <section class="go-back">
            <button onclick="goBack()">回到上一頁</button>
        </section>
    </main>
</body>
</html>
